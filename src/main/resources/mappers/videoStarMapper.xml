<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.good.mapper.videoStarMapper">
	<!-- 처음 평점 추가 -->
	<insert id="insert" parameterType="VideoStarVO">
    	insert into videostar(boardId, accountId, star, starCheck,  reg_date)
		values(#{boardId}, #{accountId}, #{star}, 1, now())
    </insert>
	<!-- 평점 업데이트 -->
    <update id="update1" parameterType="VideoStarVO">
		  UPDATE videoBoard SET star = star+1 WHERE boardId=#{boardId}
	</update>
	<update id="update2" parameterType="VideoStarVO">
		  UPDATE videoBoard SET star = star+2 WHERE boardId=#{boardId}
	</update>
	<update id="update3" parameterType="VideoStarVO">
		  UPDATE videoBoard SET star = star+3 WHERE boardId=#{boardId}
	</update>
	<update id="update4" parameterType="VideoStarVO">
		  UPDATE videoBoard SET star = star+4 WHERE boardId=#{boardId}
	</update>
	<update id="update5" parameterType="VideoStarVO">
		  UPDATE videoBoard SET star = star+5 WHERE boardId=#{boardId}
	</update>
	

</mapper>
